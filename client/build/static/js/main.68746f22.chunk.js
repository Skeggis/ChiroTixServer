(this.webpackJsonpchirotixfrontend=this.webpackJsonpchirotixfrontend||[]).push([[0],{283:function(e,t,a){e.exports=a(600)},288:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){},384:function(e,t,a){},429:function(e,t,a){},430:function(e,t,a){},431:function(e,t,a){},432:function(e,t,a){},433:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){},436:function(e,t,a){},437:function(e,t,a){},438:function(e,t,a){},445:function(e,t,a){},474:function(e,t){},477:function(e,t,a){},478:function(e,t,a){},480:function(e,t,a){},482:function(e,t,a){},534:function(e,t,a){},535:function(e,t,a){},536:function(e,t,a){},540:function(e,t,a){},541:function(e,t,a){},542:function(e,t,a){},596:function(e,t,a){},597:function(e,t,a){},598:function(e,t,a){},599:function(e,t,a){},600:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),i=a.n(c),l=a(34),s=(a(288),a(8)),o=a(71),m=a(16),u=a.n(m),d=a(23),p=a.n(d),f=window.localStorage,E=function(){return f.getItem("access_token")},g=function(){return!!E()},h=function(e){window.location.replace("".concat("http://localhost:5000","/login"))},v=function(e){var t=e.component,a=e.exact,n=e.path;return console.log(g()),r.a.createElement(o.a,{exact:a,path:n,render:function(e){return g()?r.a.createElement(t,e):r.a.createElement(b,{render:function(){return r.a.createElement(t,e)}})}})},b=function(e){console.log("AUTH2");var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],c=a[1];return console.log(r),Object(n.useEffect)((function(){(function(e){var t,a;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("THERE"),!(t=E())){n.next=16;break}return n.prev=3,n.next=6,u.a.awrap(y(t));case 6:return a=n.sent,console.log("HERE"),a||h(e.history),n.abrupt("return",a);case 12:return n.prev=12,n.t0=n.catch(3),h(e.history),n.abrupt("return",!1);case 16:return h(e.history),n.abrupt("return",!1);case 18:case"end":return n.stop()}}),null,null,[[3,12]])})(e).then((function(e){c(e)}))}),[]),r?e.render():null},y=function(e){var t,a,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return t={url:"".concat("http://localhost:5000","/api/authenticate"),method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:{accessToken:e}},r.next=3,u.a.awrap(p()(t));case 3:return a=r.sent,n=a.data,console.log(n),r.abrupt("return",n.success);case 7:case"end":return r.stop()}}))},O=(a(309),a(82)),_=a(119),k=a(613),I=a(624),w=a(70),S=a(103),N=a(47),x=a(602),T=a(620),j=(a(199),a(310),a(114)),C=_.a.Option,D=k.a.RangePicker;function B(e){var t=e.searchValues,a=e.setEvents,c=Object(n.useState)(!1),i=Object(s.a)(c,2),l=i[0],o=i[1],m=Object(n.useState)(!1),d=Object(s.a)(m,2),f=d[0],E=d[1],g=Object(n.useState)(""),h=Object(s.a)(g,2),v=h[0],b=h[1],y=Object(n.useState)([]),O=Object(s.a)(y,2),k=O[0],B=O[1],P=Object(n.useState)([]),L=Object(s.a)(P,2),F=L[0],A=L[1],z=Object(n.useState)([]),R=Object(s.a)(z,2),M=R[0],V=R[1],q=Object(n.useState)([]),J=Object(s.a)(q,2),U=J[0],W=J[1],H=Object(n.useState)([]),$=Object(s.a)(H,2),Y=$[0],K=$[1],G=Object(n.useState)([]),Z=Object(s.a)(G,2),Q=Z[0],X=Z[1],ee=Object(n.useState)([]),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)([]),ce=Object(s.a)(re,2),ie=ce[0],le=ce[1],se=Object(n.useState)([]),oe=Object(s.a)(se,2),me=oe[0],ue=oe[1],de=Object(n.useState)([]),pe=Object(s.a)(de,2),fe=pe[0],Ee=pe[1],ge=Object(n.useState)(!1),he=Object(s.a)(ge,2),ve=he[0],be=he[1];function ye(e){var t;return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return be(!0),e.next=3,u.a.awrap(p()({url:"".concat("http://localhost:5000","/api/searchEvents"),method:"post",data:{search:{organizations:Y.map((function(e){return parseInt(e.key)})),countries:F.map((function(e){return parseInt(e.key)})),cities:M.map((function(e){return parseInt(e.key)})),tags:ae.map((function(e){return parseInt(e.key)})),speakers:ie.map((function(e){return parseInt(e.key)})),dates:Q.length>0?{startDate:Q[0],endDate:Q[1]}:{},price:{minPrice:me[0],maxPrice:me[1]},CECredits:{minCECredits:fe[0],maxCECredits:fe[1]},searchString:v,categories:k.map((function(e){return parseInt(e.key)}))}}}));case 3:t=e.sent,console.log(t),a(t.data.events),be(!1);case 7:case"end":return e.stop()}}))}return Object(n.useEffect)((function(){W(t.cities)}),[]),r.a.createElement(n.Fragment,null,r.a.createElement("form",{className:"searchBar",onSubmit:ye,onMouseEnter:function(){o(!0)},onMouseLeave:function(){o(!1)}},r.a.createElement("div",{className:"searchBar__card ".concat(f||l?"searchBar__card--hovering":"")},r.a.createElement("div",{className:"searchBar__card__input ".concat(f||l?"searchBar__card__input--hovering":"")},r.a.createElement(I.a.Search,{value:v,onChange:function(e){return b(e.target.value)},size:"large",enterButton:r.a.createElement(w.a,{loading:ve,icon:"search",style:{width:50,color:"".concat(l||f?"black":"white")}}),onSearch:ye})),r.a.createElement(j.Collapse,{isOpened:f||l},r.a.createElement("div",{className:"searchBar__card__mainFilters"},r.a.createElement(S.a,{gutter:[16,16],style:{marginTop:0}},r.a.createElement(N.a,{sm:12,md:5},r.a.createElement("div",{className:"searchBar__card__mainFilters__filter"},r.a.createElement(_.a,{style:{width:"100%"},placeholder:"Category",showSearch:!0,mode:"multiple",labelInValue:!0,value:k,onChange:function(e){B(e)}},t.categories.map((function(e){return r.a.createElement(C,{key:e.id,value:"".concat(e.id)},e.name)}))))),r.a.createElement(N.a,{sm:12,md:5},r.a.createElement("div",{className:"searchBar__card__mainFilters__filter"},r.a.createElement(_.a,{style:{width:"100%"},placeholder:"Country",mode:"multiple",value:F,onChange:function(e){if(M.length>0&&0!==e.length){var a=M.filter((function(a){var n=parseInt(a.key),r=t.cities.find((function(e){return e.id===n}));return e.some((function(e){return parseInt(e.key)===r.countryid}))}));V(a)}if(A(e),e.length>0){var n=[];e.map((function(e){var a=parseInt(e.key,10),r=t.cities.filter((function(e){return e.countryid===a}));n=n.concat(r)})),W(n)}else W(t.cities)},labelInValue:!0},t.countries.map((function(e){return r.a.createElement(C,{value:"".concat(e.id)},e.name)}))))),r.a.createElement(N.a,{sm:12,md:5},r.a.createElement("div",{className:"searchBar__card__mainFilters__filter"},r.a.createElement(_.a,{style:{width:"100%"},placeholder:"City",mode:"multiple",labelInValue:!0,value:M,onChange:function(e){V(e)}},U.map((function(e){return r.a.createElement(C,{value:"".concat(e.id)},e.name)}))))),r.a.createElement(N.a,{sm:12,md:9},r.a.createElement("div",{className:"searchBar__card__mainFilters__filter"},r.a.createElement(D,{style:{width:"100%"},onChange:function(e,t){X(t)}}))))),r.a.createElement(x.a,{style:{marginTop:20,marginBottom:0}},r.a.createElement(w.a,{type:"link",onClick:function(){E((function(e){return!e}))}},f?"See less":"See more")),r.a.createElement(j.Collapse,{isOpened:f},r.a.createElement("div",{style:{paddingTop:20,paddingBottom:10}},r.a.createElement(S.a,{gutter:16,style:{marginTop:0}},r.a.createElement(N.a,{span:8},r.a.createElement(_.a,{style:{width:"100%"},placeholder:"Organization",mode:"multiple",labelInValue:!0,value:Y,onChange:function(e){K(e)}},t.organizations.map((function(e){return r.a.createElement(C,{value:"".concat(e.id)},e.name)})))),r.a.createElement(N.a,{span:8},r.a.createElement(_.a,{style:{width:"100%"},placeholder:"Tags",mode:"multiple",labelInValue:!0,value:ae,onChange:function(e){ne(e)}},t.tags.map((function(e){return r.a.createElement(C,{key:e.id,value:"".concat(e.id)},e.name)})))),r.a.createElement(N.a,{span:8},r.a.createElement(_.a,{style:{width:"100%"},placeholder:"Speakers",mode:"multiple",labelInValue:!0,value:ie,onChange:function(e){le(e)}},t.speakers.map((function(e){return r.a.createElement(C,{key:e.id,value:"".concat(e.id)},e.name)}))))),r.a.createElement(S.a,{gutter:24,style:{marginTop:20}},r.a.createElement(N.a,{span:12},r.a.createElement("h4",{style:{marginBottom:0}},"Price:"),r.a.createElement(T.a,{range:!0,defaultValue:[0,400],max:3e3,tipFormatter:function(e){return"".concat(e," $")},onChange:function(e){ue(e)}})),r.a.createElement(N.a,{span:12},r.a.createElement("h4",{style:{marginBottom:0}},"CE Credits:"),r.a.createElement(T.a,{range:!0,defaultValue:[0,3],max:10,onChange:function(e){Ee(e)}}))))),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(w.a,{loading:ve,onClick:ye},"Search"))))))}a(384);var P=a(35);var L=Object(o.f)((function(e){var t=e.event,a=e.eventIsOpen,c=e.setEventIsOpen,i=e.selectedEvent,l=e.setSelectedEvent,o=e.eventRowNumber,m=e.setOldRowNumber,u=e.eventColNumber,d=e.setOldColNumber,p=e.setEventWasClosed,f=e.history,E=Object(n.useState)(!1),g=Object(s.a)(E,2),h=g[0],v=g[1],b=Object(n.useState)("flex"),y=Object(s.a)(b,2),O=(y[0],y[1],Object(n.useState)("none")),_=Object(s.a)(O,2);function k(e){f.push("/tickets/".concat(t.id))}_[0],_[1];var I=i.id===t.id,S=I||h?"eventItem-hovering":"";return console.log(t.name,t.isSoldOut,t.isSelling),r.a.createElement("div",{className:"eventItem ".concat(S),onMouseEnter:function(){v(!0)},onMouseLeave:function(){v(!1)},onClick:function(){return function(e){console.log("click"),m(i.eventRowNumber),d(i.eventColNumber),i.id===e.id?(a?(l({id:-1}),p(!1),m(-1)):(e.eventRowNumber=o,e.eventColNumber=u,l(e),p(!0)),console.log("her"),c(!a)):(console.log("her2"),c(!0),-1===i.id?p(!0):p(!1),e.eventRowNumber=o,e.eventColNumber=u,l(e))}(t)}},r.a.createElement("div",{className:"eventItem__imageContainer"},r.a.createElement("img",{src:t.image,className:"eventItem__image ".concat((h||I)&&"eventItem__image-hovering"),alt:t.name}),r.a.createElement("div",{className:"".concat(S?"overlay-hover":"overlay")},r.a.createElement("div",{style:{width:"100%",position:"absolute",top:0,left:0}},r.a.createElement("div",{className:"eventItem__imageContent",style:{margin:"10px 10px 0 10px",display:"flex",justifyContent:"space-between"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(P.Animated,{animateOnMount:!1,isVisible:h||I,animationIn:"fadeInLeft",animationOut:"fadeOutLeft",animationInDuration:300,animationOutDuration:300},r.a.createElement("h3",{style:{margin:0,fontSize:20,color:"white"}},t.city)),r.a.createElement(P.Animated,{animateOnMount:!1,isVisible:h||I,animationIn:"fadeInLeft",animationOut:"fadeOutLeft",animationInDelay:80,animationInDuration:300,animationOutDuration:300},r.a.createElement("p",{style:{padding:0,fontSize:16,color:"white"}},t.country))),r.a.createElement("div",null,r.a.createElement(P.Animated,{animateOnMount:!1,isVisible:h||I,animationIn:"fadeInRight",animationOut:"fadeOutRight",animationInDuration:300,animationOutDuration:300},r.a.createElement("h3",{style:{color:"white"}},t.organization)))))),r.a.createElement("div",{className:"eventItem__contentWrapper"},r.a.createElement("div",{className:"eventItem__secondContentWrapper"},r.a.createElement("div",{className:"eventItem__nameContentWrapper"},r.a.createElement("div",{className:"eventItem__soldOutWrapper",style:t.isSoldOut?{}:{visibility:"hidden"}},r.a.createElement("h1",{className:"eventItem__soldOutTitle"},"Sold Out")),r.a.createElement(P.Animated,{isVisible:!h&&!I,animateOnMount:!1,animationOut:"fadeOutLeft",animationIn:"fadeInLeft",animationInDuration:300,animationOutDuration:300,style:{width:"100%"}},r.a.createElement("div",{className:"eventItem__nameContentSecondWrapper"},r.a.createElement("h1",{className:"eventItem__name"},t.name),r.a.createElement("p",{className:"eventItem__date"},new Date(t.startDate).toDateString())))),r.a.createElement("div",{className:"eventItem__buttonsContainer"},r.a.createElement(P.Animated,{style:{height:"100%"},isVisible:h||I,animateOnMount:!1,animationOut:"fadeOutRight",animationIn:"fadeInRight",animationInDuration:300,animationOutDuration:300},r.a.createElement("div",{className:"eventItem__buttonsSecondContainer"},r.a.createElement(w.a,{size:"large",style:{color:"white",backgroundColor:"rgba(157, 141, 241, 0.7)"},onClick:function(){f.push("/event/".concat(t.id))}},"More"),t.isSelling&&!t.isSoldOut?r.a.createElement(w.a,{size:"large",style:{color:"white",backgroundColor:"rgba(157, 141, 241, 0.7)",marginLeft:30},onClick:function(e){return k()}},"Tickets"):"")))))))}));a(429);var F=Object(o.f)((function(e){var t=e.event,a=e.animate,n=e.animationInDirection,c=e.animationOutDirection;console.log(t);var i,l,s="right"===n?"fadeInRight":"fadeInLeft",o="right"===c?"fadeOutRight":"fadeOutLeft";i="down"===n?"fadeInDown":"right"===n?"fadeInRight":"fadeInLeft",l="up"===c?"fadeOutUp":"right"===c?"fadeOutRight":"fadeOutLeft";var m=t.minPrice===t.maxPrice?"".concat(Number(t.minPrice).toFixed(2),"$"):"".concat(Number(t.minPrice).toFixed(2)," - ").concat(Number(t.maxPrice).toFixed(2),"$");return r.a.createElement("div",{className:"eventDescItem"},r.a.createElement("div",{className:"eventDescItem__imageWrapper"},r.a.createElement("img",{alt:t.name,src:t.image,className:"eventDescItem__image"}),r.a.createElement("div",{className:"eventDescItem__overlay"},r.a.createElement("div",{className:"eventDescItem__imageText"},r.a.createElement(P.Animated,{isVisible:a,animateOnMount:!1,animationIn:s,animationOut:o,animationDuration:300,animationInDelay:100},r.a.createElement("h1",{style:{marginBottom:0,color:"white"}},t.name)),r.a.createElement(P.Animated,{isVisible:a,animateOnMount:!1,animationIn:s,animationOut:o,animationDuration:300,animationInDelay:180},r.a.createElement("p",{style:{fontSize:18}},"".concat(t.city,", ").concat(t.country)))))),r.a.createElement("div",{className:"eventDescItem__contentWrapper"},r.a.createElement("div",{style:{overflow:"hidden"}},r.a.createElement(P.Animated,{isVisible:a,animateOnMount:!0,animationIn:i,animationOut:l,animationDuration:300,animationInDelay:100},r.a.createElement("h1",null,"Description")),r.a.createElement(P.Animated,{isVisible:a,animateOnMount:!0,animationIn:i,animationOut:l,animationDuration:300,animationInDelay:140},r.a.createElement("p",null,t.shortDescription))),r.a.createElement("div",null,r.a.createElement("div",{style:{marginBottom:30,overflow:"hidden"}},r.a.createElement(P.Animated,{isVisible:a,animateOnMount:!0,animationIn:i,animationOut:l,animationDuration:300,animationInDelay:180},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement("h2",{style:{fontSize:20}},"Price: ",r.a.createElement("span",{style:{fontSize:20,marginLeft:5,fontWeight:400}},m)),r.a.createElement("h2",{style:{fontSize:20}},"CE Credits: ",r.a.createElement("span",{style:{fontSize:20,marginLeft:5,fontWeight:400}},t.CECredits))))),r.a.createElement(P.Animated,{isVisible:a,animateOnMount:!0,animationIn:i,animationOut:l,animationDuration:300,animationInDelay:220},r.a.createElement("div",{className:"eventDescItem__actionsWrapper"},r.a.createElement(w.a,{size:"large",style:{marginRight:10},onClick:function(){return e.history.push("/event/".concat(t.id))}},"More"),r.a.createElement(w.a,{size:"large",onClick:function(){return e.history.push("/tickets/".concat(t.id))}},"Tickets"))))))})),A=a(628);a(430);function z(e){var t=Object(A.a)("(max-width: 700px)"),a=e.eventRows,c=e.setEventRows,i=e.size,l=e.events;e.setEvents;console.log(l[0]),Object(n.useEffect)((function(){var e;e="xs"===i?1:"sm"===i?1:"md"===i?2:"lg"===i?3:"xl"===i?3:4;for(var t=[],a=JSON.parse(JSON.stringify(l));a.length;)t.push(a.splice(0,e));c(t)}),[i,l]);var o=Object(n.useState)({id:-1}),m=Object(s.a)(o,2),u=m[0],d=m[1],p=Object(n.useState)(!1),f=Object(s.a)(p,2),E=f[0],g=f[1],h=Object(n.useState)(0),v=Object(s.a)(h,2),b=(v[0],v[1],Object(n.useState)(-1)),y=Object(s.a)(b,2),O=y[0],_=y[1],k=Object(n.useState)(-1),I=Object(s.a)(k,2),w=I[0],x=I[1],T=Object(n.useState)(!0),C=Object(s.a)(T,2),D=C[0],B=C[1],z=Object(n.useState)(-1),R=Object(s.a)(z,2),M=R[0],V=R[1],q=u.eventColNumber>w?"fadeInLeft":"fadeInRight",J=u.eventColNumber>w?"left":"right";D&&(q="fadeInDown",J="down");var U=u.eventColNumber<w?"fadeOutLeft":"fadeOutRight",W=u.eventColNumber<w?"left":"right";D&&(U="fadeOutUp",W="up");return r.a.createElement("div",{className:"events"},a.map((function(e,a){return r.a.createElement(n.Fragment,null,r.a.createElement(S.a,null,e.map((function(e,t){return r.a.createElement(n.Fragment,null,e.id&&r.a.createElement(N.a,{style:{padding:"15px 10px"},xs:24,sm:24,md:12,lg:8,xl:8,xxl:6},r.a.createElement(L,{event:e,eventIsOpen:E,setEventIsOpen:g,selectedEvent:u,setSelectedEvent:d,eventRowNumber:a,setOldRowNumber:_,eventColNumber:t,setOldColNumber:x,setEventWasClosed:B,isHovering:M===e.id,setIsHovering:V})))})),!t&&r.a.createElement(N.a,{span:24},r.a.createElement(j.Collapse,{isOpened:u.eventRowNumber===a},r.a.createElement("div",{style:{position:"relative",height:450}},e.map((function(e,t){return r.a.createElement("div",{style:{height:"100%",width:"100%",position:(u.id,e.id,"absolute"),display:(u.id,e.id,""),top:0,left:0,overflow:"hidden",zIndex:u.id===e.id&&E?10:0}},r.a.createElement(P.Animated,{animateOnMount:!1,isVisible:u.id===e.id&&u.eventRowNumber===a,animationIn:u.eventRowNumber!==O?"fadeInDown":q,animationOut:u.eventRowNumber!==O?"fadeOutUp":U},r.a.createElement(F,{event:e,animate:u.id===e.id,animationInDirection:u.eventRowNumber!==O?"down":J,animationOutDirection:u.eventRowNumber!==O?"up":W})))})))))))})))}a(431);function R(){return r.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center"}},r.a.createElement("div",{className:"sk-chase"},r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"}),r.a.createElement("div",{className:"sk-chase-dot"})))}var M=a(626);a(432);var V=Object(o.f)((function(e){var t=e.organization,a=e.ticketTime,c=e.showTimer,i=e.history;Object(n.useEffect)((function(){d(i.location.pathname.split("/")[1])}),[i.location.pathname]);var o=Object(n.useState)(i.location.pathname.split("/")[1]),m=Object(s.a)(o,2),u=m[0],d=m[1];return""===u?r.a.createElement("div",{className:"header--eventPage"},r.a.createElement(l.b,{to:"/"},r.a.createElement("h2",{style:{color:"white",margin:0,marginLeft:20}},"ChiroTix"))):"event"===u?r.a.createElement("div",{className:"header--eventPage"},r.a.createElement(l.b,{to:"/"},r.a.createElement("h2",{style:{color:"white",margin:0,marginLeft:20}},"ChiroTix")),r.a.createElement("h2",{style:{color:"white",margin:0,marginRight:20}},t)):"tickets"===u?r.a.createElement("div",{className:"header--ticketsPage"},r.a.createElement(l.b,{to:"/"},r.a.createElement("h2",{style:{color:"white",margin:0,marginLeft:20}},"ChiroTix")),c&&r.a.createElement("h2",{style:{color:"white",margin:0,marginRight:20}},a)):(console.log("her"),r.a.createElement("div",{className:"header"},r.a.createElement(l.b,{to:"/"},r.a.createElement("h2",{style:{color:"white",margin:0,marginLeft:20}},"ChiroTix"))))}));a(433);function q(e){var t=e.searchValues,a=e.setEvents;return r.a.createElement("div",{className:"hero",style:{backgroundImage:"url('../../../test.jpg')"}},r.a.createElement(B,{searchValues:t,setEvents:a}))}function J(e){var t=Object(A.a)("(min-width: 0px) and (max-width: 575px)"),a=Object(A.a)("(min-width: 576px) and (max-width: 767px)"),c=Object(A.a)("(min-width: 768px) and (max-width: 991px)"),i=Object(A.a)("(min-width: 992px) and (max-width: 1199px)"),l=Object(A.a)("(min-width: 1200px) and (max-width: 1599px)"),o=Object(A.a)("(min-width: 1600px)"),m=Object(n.useState)([[]]),d=Object(s.a)(m,2),f=d[0],E=d[1],g=Object(n.useState)(""),h=Object(s.a)(g,2),v=h[0],b=h[1];Object(n.useEffect)((function(){j(T),t&&b("xs"),a&&b("sm"),c&&b("md"),i&&b("lg"),l&&b("xl"),o&&b("xxl")}),[t,a,c,i,l,o]);var y=Object(n.useState)({}),_=Object(s.a)(y,2),k=_[0],I=_[1],w=Object(n.useState)([]),x=Object(s.a)(w,2),T=x[0],j=x[1],C=Object(n.useState)(!0),D=Object(s.a)(C,2),B=D[0],P=D[1];return Object(n.useEffect)((function(){!function(){var e;u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("http://localhost:5000"),t.next=3,u.a.awrap(p.a.get("".concat("http://localhost:5000","/api/initialSearch")));case 3:e=t.sent,console.log(e),I(e.data.result),j(e.data.result.featured),console.log(e.data.result.featured[0]),P(!1);case 9:case"end":return t.stop()}}))}()}),[]),B?r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{style:{margin:"50px 0 30px"}},r.a.createElement(S.a,{justify:"center",type:"flex"},r.a.createElement(N.a,{xs:24,sm:18,md:12},r.a.createElement(M.a,{active:!0})))),r.a.createElement(S.a,{gutter:[24,32],style:{width:"100%"}},Object(O.a)(Array(6)).map((function(e,t){return r.a.createElement(N.a,{xs:24,sm:24,md:12,lg:8,xl:8,xxl:6},r.a.createElement("div",{style:{height:300,padding:10}},r.a.createElement(M.a,{active:!0,paragraph:{rows:6}})))}))))):r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(q,{searchValues:k,setEvents:j}),r.a.createElement(z,{eventRows:f,setEventRows:E,size:v,events:T,loading:B})))}var U="http://localhost:5000";a(434);function W(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var H=function(e){var t=e.image,a=void 0===t?"":t,c=e.title,i=void 0===c?"":c,l=(e.minorTitle,e.subTitle),o=void 0===l?"":l,m=e.loading,u=void 0===m||m,d=e.mainInfoBarHeight,p=void 0===d?0:d,f=e.isSoldOut,E=void 0!==f&&f,g=Object(n.useState)(W()),h=Object(s.a)(g,2),v=h[0],b=h[1];Object(n.useEffect)((function(){function e(){b(W())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var y=v.height-p;return u?r.a.createElement("div",{className:"BigAd",style:{height:y}},r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%"}}),r.a.createElement(R,null))):r.a.createElement("div",{className:"BigAd",style:{backgroundImage:"url('".concat(a,"')"),height:y}},r.a.createElement("div",{className:"BigAd__soldOutDiv",style:E?{}:{visibility:"hidden"}},r.a.createElement("h1",{className:"BigAd__soldOutTitle"},"Sold Out")),r.a.createElement("div",{className:"BigAd__flexDiv"},r.a.createElement("div",{className:"BigAd__bannerDiv"},r.a.createElement("div",{className:"BigAd__eventTitleDiv"},r.a.createElement("h1",{className:"BigAd__eventTitle"},i),r.a.createElement("h3",{className:"BigAd__subTitle"},o)))))};a(435);function $(e){var t=e.handleClick,a=e.down;return r.a.createElement("div",{style:{position:"relative"},className:"scrollButton"},r.a.createElement("a",{onClick:t},r.a.createElement("span",{className:a?"scrollButton__down":"scrollButton__up"})))}a(436);var Y=function(e){var t=e.priceRange,a=e.dates,c=e.handleBuyTickets,i=e.setHeight,l=e.handleScroll,s=e.down,o=e.loading,m=e.isSelling,u=void 0===m||m,d=e.isSoldOut,p=void 0===d||d,f=Object(A.a)("(max-width: 900px)"),E=Object(n.useRef)(null);return Object(n.useEffect)((function(){i(E.current.clientHeight)})),f?r.a.createElement("div",{ref:E,style:{display:"flex",flexDirection:"column",alignItems:"center"},className:"MainInfoBar MainInfoBar--sticky"},r.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%",flexWrap:"wrap"}},!o&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"MainInfoBar__colDiv",style:{marginRight:30}},r.a.createElement("div",{className:"MainInfoBar__nameDiv"},r.a.createElement("h2",{style:{fontSize:"24px"}},"Price")),r.a.createElement("div",{className:"MainInfoBar__valueDiv"},r.a.createElement("h3",{style:{fontSize:"20px"}},t))),r.a.createElement("div",{className:"MainInfoBar__colDiv",style:{marginRight:0}},r.a.createElement("div",{className:"MainInfoBar__nameDiv"},r.a.createElement("h2",{style:{fontSize:"24px"}},"Dates")),r.a.createElement("div",{className:"MainInfoBar__valueDiv"},r.a.createElement("h3",{style:{fontSize:"20px"}},a))))),r.a.createElement("div",{className:" MainInfoBar__buttonDiv",style:{justifyContent:"center",width:"100%"}},r.a.createElement(w.a,{onClick:c,className:"MainInfoBar__button",style:{backgroundColor:"#6D8791",borderColor:"#6D8791",fontSize:"20px",fontWeight:"400",color:"white",margin:"10px 0"}},"Tickets"))):r.a.createElement("div",{ref:E,style:{display:"flex",justifyContent:"center",alignItems:"center"},className:"MainInfoBar MainInfoBar--sticky"},r.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%",flexWrap:"wrap",maxWidth:1600}},!o&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"MainInfoBar__colDiv",style:{marginRight:30}},r.a.createElement("div",{className:"MainInfoBar__nameDiv"},r.a.createElement("h2",{style:{fontSize:"24px"}},"Price")),r.a.createElement("div",{className:"MainInfoBar__valueDiv"},r.a.createElement("h3",{style:{fontSize:"20px"}},t))),r.a.createElement("div",{className:"MainInfoBar__colDiv",style:{marginRight:0}},r.a.createElement("div",{className:"MainInfoBar__nameDiv"},r.a.createElement("h2",{style:{fontSize:"24px"}},"Dates")),r.a.createElement("div",{className:"MainInfoBar__valueDiv"},r.a.createElement("h3",{style:{fontSize:"20px"}},a))))),r.a.createElement("div",{style:{marginRight:0}},r.a.createElement($,{handleClick:l,down:s})),u&&!p?r.a.createElement("div",{className:" MainInfoBar__buttonDiv",style:{justifyContent:"flex-end",width:"100%"}},r.a.createElement(w.a,{onClick:c,className:"MainInfoBar__button",style:{backgroundColor:"#6D8791",borderColor:"#6D8791",fontSize:"20px",fontWeight:"400",color:"white",marginRight:150}},"Tickets")):r.a.createElement("div",{className:" MainInfoBar__buttonDiv",style:{justifyContent:"flex-end",width:"100%"}}))},K=a(277);a(437);var G=function(e){for(var t=e.description,a=void 0===t?"":t,n=e.speakers,c=void 0===n?[]:n,i=e.tags,l=void 0===i?[]:i,s=e.loading,o=void 0===s||s,m=[],u=0;u<1;u++)c.forEach((function(e){return m.push(r.a.createElement("div",{className:"EventDescription__speakerDiv"},r.a.createElement("a",{className:"EventDescription__speakerDiv"},r.a.createElement("img",{className:"EventDescription__speakerImage",alt:"",src:e.image}),r.a.createElement("h4",null,e.name))))}));return r.a.createElement("div",{className:"EventDescription"},r.a.createElement("div",{className:"EventDescription__descriptionDiv"},r.a.createElement("h3",null,"Description:"),r.a.createElement("p",{className:"EventDescription__description"},o?r.a.createElement(M.a,{active:!0}):a)),r.a.createElement("h3",null,"Speakers:"),r.a.createElement("div",{className:"EventDescription__speakersDiv"},o?Object(O.a)(Array(3)).map((function(e,t){return r.a.createElement(M.a,{active:!0,avatar:!0})})):m),!o&&r.a.createElement("div",{className:"EventDescription__tagsDiv"},r.a.createElement("div",{className:"EventDescription_tags"},l.map((function(e){return r.a.createElement(K.a,{color:"geekblue"},e.name)})))))},Z=a(618),Q=a(603),X=a(604),ee=a(605),te=a(606),ae=a(607),ne=a(608),re=a(609),ce=a(610);a(438);var ie=function(e){var t=e.url,a=void 0===t?"":t,n=Object(A.a)("(max-width: 900px)");return r.a.createElement("div",{style:{display:"flex",justifyContent:n?"flex-start":"center",flexWrap:"wrap"}},r.a.createElement(Q.a,{url:a,className:"ShareButtons__shareButton ShareButtons__shareDiv"},r.a.createElement(X.a,{size:32,round:!0,className:"ShareButtons__pointer"}),r.a.createElement(Z.a.Text,{className:"ShareButtons__shareText ShareButtons__pointer"},"Share")),r.a.createElement(ee.a,{url:a,className:"ShareButtons__shareButton ShareButtons__shareDiv"},r.a.createElement(te.a,{size:32,round:!0,className:"ShareButtons__pointer"}),r.a.createElement(Z.a.Text,{className:"ShareButtons__shareText ShareButtons__pointer"},"Tweet")),r.a.createElement(ae.a,{url:a,className:"ShareButtons__shareButton ShareButtons__shareDiv"},r.a.createElement(ne.a,{size:32,round:!0,className:"ShareButtons__pointer"}),r.a.createElement(Z.a.Text,{className:"ShareButtons__shareText ShareButtons__pointer"},"WhatsApp")),r.a.createElement(re.a,{url:a,className:"ShareButtons__shareButton ShareButtons__shareDiv"},r.a.createElement(ce.a,{size:32,round:!0,className:"ShareButtons__pointer"}),r.a.createElement(Z.a.Text,{className:"ShareButtons__shareText ShareButtons__pointer"},"Send")))},le=a(611);a(445);var se=function(e){var t=e.setOrganization,a=Object(n.useState)({}),c=Object(s.a)(a,2),i=c[0],l=c[1],o=Object(n.useState)(!0),m=Object(s.a)(o,2),d=m[0],f=m[1],E=Object(n.useState)(0),g=Object(s.a)(E,2),h=g[0],v=g[1],b=Object(n.useState)(0),y=Object(s.a)(b,2),O=y[0],_=y[1],k=Object(n.useState)(U),I=Object(s.a)(k,2),w=I[0],S=I[1];Object(n.useEffect)((function(){window.scrollTo(0,0);return function(){var a,n;u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.match.params.eventId,S(U+"/event/".concat(a)),r.next=4,u.a.awrap(p.a.get("http://localhost:5000"+"/api/event/".concat(a)));case 4:if(n=r.sent,console.log("HERE!:",n.data),n.data.success){r.next=8;break}return r.abrupt("return",e.history.push("/notFound"));case 8:l(n.data.eventInfo),t(n.data.eventInfo.organization),window.scrollTo(0,0),f(!1);case 12:case"end":return r.stop()}}))}(),window.addEventListener("scroll",(function(){return _(window.scrollY)})),function(){return window.removeEventListener("scroll",(function(){return _(window.scrollY)}))}}),[]);var N=Object(n.useRef)(null),x=Object(n.useRef)(null),T=Object(n.useState)(!0),j=Object(s.a)(T,2),C=j[0],D=j[1];Object(n.useEffect)((function(){O>500&&D(!1),O<200&&D(!0)}),[O]);var B=function(e){return window.scrollTo({top:e.current.offsetTop,behavior:"smooth"})};return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"EventPage",ref:x},r.a.createElement(H,{image:i.image||"../../../tempImg.jpg",mainInfoBarHeight:h,title:i.name,subTitle:"".concat(i.city,", ").concat(i.country),loading:d,isSoldOut:i.isSoldOut}),r.a.createElement("div",{ref:N,style:{position:"sticky",top:0}},r.a.createElement(Y,{setHeight:v,priceRange:i.priceRange,dates:i.dateRange,handleBuyTickets:function(){e.history.push("/tickets/"+e.match.params.eventId)},loading:d,handleScroll:function(){C?(D(!1),B(N)):(D(!0),B(x))},down:C,isSelling:i.isSelling,isSoldOut:i.isSoldOut})),r.a.createElement("div",{className:"EventPage__page"},r.a.createElement(G,{description:i.longDescription,speakers:i.speakers,tags:i.tags,loading:d}),!d&&r.a.createElement("div",{className:"EventPage__shareButtons"},r.a.createElement(ie,{url:w}))),d?r.a.createElement("div",null,r.a.createElement(M.a,{active:!0})):r.a.createElement("div",{className:"EventPage__gmaps"},r.a.createElement("iframe",{title:"massi",className:"EventPage__iframe",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1789.6759986433394!2d-21.90691108388139!3d64.11145742580317!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x48d60caaf8eb043d%3A0xf3846a65cb2f18b0!2sFannborg%202%2C%20K%C3%B3pavogur!5e1!3m2!1sen!2sis!4v1576517501262!5m2!1sen!2sis"}))))},oe=a(621),me=a(10),ue=a(264),de=a.n(ue);a(477);var pe=function(e){var t=e.imageUrl,a=void 0===t?"":t,c=e.title,i=void 0===c?"":c,l=e.subTitle,s=void 0===l?"":l,o=e.loading,m=void 0!==o&&o;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"TicketsImage"},r.a.createElement("div",{className:"TicketsImage__test"},r.a.createElement("div",{className:"TicketsImage__defaultImage",style:{backgroundImage:"url(".concat(a,")")}})),r.a.createElement("div",{className:"TicketsImage__content"},m?r.a.createElement("div",null,r.a.createElement(R,null)):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"TicketsImage__eventName"},i),r.a.createElement("h3",{className:"TicketsImage__date"},s)))))},fe=a(623);a(478);var Ee=function(e){var t=e.current,a=void 0===t?0:t,n=e.stepsInfo,c=[];return(void 0===n?[{}]:n).forEach((function(e){c.push(r.a.createElement(fe.a.Step,{title:e.title,subTitle:e.subTitle,status:e.status}))})),r.a.createElement("div",{className:"TicketsSteps"},r.a.createElement("div",{className:"TicketsSteps__steps"},r.a.createElement(fe.a,{current:a},c)))},ge=a(616),he=a(619);a(480);var ve=function(e){var t=e.ticketTypes,a=void 0===t?[]:t,n=e.location,c=void 0===n?"":n,i=e.organization,l=void 0===i?"":i,s=e.handleTicketChange,o=void 0===s?function(){}:s,m=e.totalTicketPrice,u=void 0===m?0:m,d=Object(A.a)("(max-width: 700px)"),p=[];p.push(r.a.createElement(ge.a.Item,{style:{margin:0,padding:0}},r.a.createElement(S.a,{className:"TicketsList__listRow",gutter:0},r.a.createElement(N.a,{span:1}),r.a.createElement(N.a,{span:4},r.a.createElement("h3",{className:"TicketsList__ticketInfoTitle"},"Event")),r.a.createElement(N.a,{span:3}),r.a.createElement(N.a,{span:3},r.a.createElement("h3",{className:"TicketsList__ticketInfoTitle rightAlign"},"Organization")),r.a.createElement(N.a,{span:2}),r.a.createElement(N.a,{span:3},r.a.createElement("h3",{className:"TicketsList__ticketInfoTitle rightAlign"},"Location")),r.a.createElement(N.a,{span:1}),r.a.createElement(N.a,{span:3},r.a.createElement("h3",{className:"TicketsList__ticketInfoTitle rightAlign"},"Price")),r.a.createElement(N.a,{span:2}),r.a.createElement(N.a,{span:2},r.a.createElement("h3",{className:"TicketsList__ticketInfoTitle",style:{textAlign:"center"}},"Amount")))));for(var f=function(e){var t=a[e];p.push(r.a.createElement(ge.a.Item,null,r.a.createElement(S.a,{align:"center",style:{alignItems:"center",display:"flex"},className:"TicketsList__listRow"},r.a.createElement(N.a,{span:1}),r.a.createElement(N.a,{span:4,className:"TicketsList__ticketTypeInfo"}," ",t.name," "),r.a.createElement(N.a,{span:3}),r.a.createElement(N.a,{span:3,className:"TicketsList__ticketTypeInfo rightAlign"}," ",l," "),r.a.createElement(N.a,{span:2}),r.a.createElement(N.a,{span:3,className:"TicketsList__ticketTypeInfo rightAlign"}," ",c," "),r.a.createElement(N.a,{span:1}),r.a.createElement(N.a,{span:3,className:"TicketsList__ticketTypeInfo rightAlign"}," ",parseFloat(t.price).toFixed(2)," $"),r.a.createElement(N.a,{span:2}),r.a.createElement(N.a,{span:2,className:"TicketsList__ticketTypeInfo"},t.isSoldOut?r.a.createElement("div",{className:"TicketsList__amountDiv"},r.a.createElement("h1",{className:"TicketsList__soldOutTitle"},"Sold Out")):r.a.createElement("div",{className:"TicketsList__amountDiv"},r.a.createElement(w.a,{shape:"circle",onClick:function(){return o(t.id,!1)},size:"small"},"-"),r.a.createElement("h3",{className:"TicketsList__amount"},t.amount),r.a.createElement(w.a,{shape:"circle",onClick:function(){return o(t.id,!0)},size:"small"},"+"))))))},E=0;E<a.length;E++)f(E);function g(e){function t(t,a){t.stopPropagation(),o(e.id,a),console.log(t.preventDefault)}return r.a.createElement("div",{className:"TicketsList__amountDiv"},r.a.createElement(w.a,{shape:"circle",onClick:function(e){return t(e,!1)},size:"small"},"-"),r.a.createElement("h3",{className:"TicketsList__amount"},e.amount),r.a.createElement(w.a,{shape:"circle",onClick:function(e){return t(e,!0)},size:"small"},"+"))}return p.push(r.a.createElement(ge.a.Item,{style:{marginTop:10}},r.a.createElement(S.a,{className:"TicketsList__listRow",align:"center"},r.a.createElement(N.a,{span:1}),r.a.createElement(N.a,{span:4},r.a.createElement("h3",{className:"TicketsList__ticketInfoTitle"},"Total")),r.a.createElement(N.a,{span:15}),r.a.createElement(N.a,{span:4,push:1},r.a.createElement("h3",{className:"TicketsList__ticketInfoTitle",style:{textAlign:"center"}},parseFloat(u).toFixed(2)," $"))))),d?r.a.createElement("div",{className:"TicketsList--mobile"},r.a.createElement(he.a,{defaultActiveKey:["0"]},a.map((function(e,t){return r.a.createElement(he.a.Panel,{header:e.name,key:"".concat(t),extra:g(e)},r.a.createElement("div",{className:"TicketsList--mobile__container"},r.a.createElement("p",{className:"TicketsList--mobile__label"},"Price: ",r.a.createElement("span",{className:"TicketsList--mobile__item"},parseFloat(e.price).toFixed(2),"$")),r.a.createElement("p",{className:"TicketsList--mobile__label"},"Organization: ",r.a.createElement("span",{className:"TicketsList--mobile__item"},l)),r.a.createElement("p",{className:"TicketsList--mobile__label"},"Location: ",r.a.createElement("span",{className:"TicketsList--mobile__item"},c))))}))),r.a.createElement("div",{className:"TicketsList--mobile__totalContainer"},r.a.createElement("h1",{className:"TicketsList--mobile__totalItem"},"Total"),r.a.createElement("h1",{className:"TicketsList--mobile__totalItem"},parseFloat(u).toFixed(2)," $"))):r.a.createElement("div",{className:"TicketsList"},r.a.createElement(ge.a,null,p))},be=a(617),ye=a(265),Oe=a.n(ye);a(481),a(482);var _e=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],i=a[1],l=e.form.getFieldDecorator,o=e.buyerInfo,m=e.setBuyerInfo,u={labelCol:{sm:{span:5,offset:1}},wrapperCol:{sm:{span:15}}},d=function(e,t){var a=JSON.parse(JSON.stringify(o));a[t]="phone"===t?e:e.target.value,m(a)};return r.a.createElement("div",{className:"BillingInformation"},r.a.createElement("div",{className:"BillingInformation__buyerInformationDiv"},r.a.createElement("div",null),r.a.createElement("h2",{className:"BillingInformation__buyerInformation"},"Buyer Information")),r.a.createElement(be.a.Item,Object.assign({},u,{style:{marginBottom:10},label:"Full Name"}),l("name",{initialValue:o.name,rules:[{required:!0,message:"Please input your name!",whitespace:!0}]})(r.a.createElement(I.a,{size:"large",onChange:function(e){d(e,"name")}}))),r.a.createElement(be.a.Item,Object.assign({},u,{style:{marginBottom:10},label:"E-mail"}),l("email",{initialValue:o.email,rules:[{type:"email",message:"The input is not a valid E-mail!"},{required:!0,message:"Please input your E-mail!"},{validator:function(t,a,n){var r=e.form;a&&c&&r.validateFields(["confirmEmail"],{force:!0}),n()}}]})(r.a.createElement(I.a,{size:"large",onChange:function(e){d(e,"email")}}))),r.a.createElement(be.a.Item,Object.assign({},u,{style:{marginBottom:10},label:"Confirm Email"}),l("confirmEmail",{initialValue:o.confirmEmail,rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your email!"},{validator:function(t,a,n){var r=e.form;a&&a!==r.getFieldValue("email")?n("The emails that you entered are inconsistent!"):n()}}]})(r.a.createElement(I.a,{size:"large",onBlur:function(e){i(!!e.target.value)},onChange:function(e){d(e,"confirmEmail")}}))),r.a.createElement(be.a.Item,Object.assign({},u,{style:{marginBottom:10},label:"Phone Number"}),l("phone",{initialValue:o.phone,rules:[{required:!0,message:"Please input your phone number!"}]})(r.a.createElement(Oe.a,{size:"large",country:"is",value:e.form.getFieldValue("phone"),onChange:function(e){d(e,"phone")}}))),r.a.createElement(be.a.Item,Object.assign({},u,{style:{marginBottom:10},label:"Address"}),l("address",{initialValue:o.address,rules:[{type:"string",required:!0,message:"Please input your address!"}]})(r.a.createElement(I.a,{size:"large",onChange:function(e){d(e,"address")}}))),r.a.createElement(be.a.Item,Object.assign({},u,{style:{marginBottom:10},label:"City"}),l("city",{initialValue:o.city,rules:[{type:"string",required:!0,message:"Please input your city!"}]})(r.a.createElement(I.a,{size:"large",onChange:function(e){d(e,"city")}}))),r.a.createElement(be.a.Item,Object.assign({},u,{style:{marginBottom:10},label:"State"}),l("state",{initialValue:o.state,rules:[{type:"string",required:!0,message:"Please input your state!"}]})(r.a.createElement(I.a,{size:"large",onChange:function(e){d(e,"state")}}))),r.a.createElement(be.a.Item,Object.assign({},u,{style:{marginBottom:10},label:"Zip Code"}),l("zipCode",{initialValue:o.zipCode,rules:[{type:"string",required:!0,message:"Please input your zip code!"}]})(r.a.createElement(I.a,{size:"large",onChange:function(e){d(e,"zipCode")}}))))},ke=(a(534),function(e){if("empty"!==e)return e?r.a.createElement(me.a,{type:"check-circle",style:{color:"green"},onClick:function(e){e.stopPropagation()}}):r.a.createElement(me.a,{type:"warning",style:{color:"red"},onClick:function(e){e.stopPropagation()}})});var Ie=function(e){var t=e.form.getFieldDecorator,a=e.openPanels,c=e.setOpenPanels,i=e.setTicketsOwnersInfo,l=e.ticketsOwnersInfo,s={labelCol:{sm:{span:3}},wrapperCol:{sm:{span:15}}};Object(n.useEffect)((function(){var e=JSON.parse(JSON.stringify(l));e.sort((function(e,t){return e.id>t.id?1:e.id<t.id?-1:0}));for(var t=0;t<e.length;t++){var a=e[t];a.header="ticket ".concat(t+1," - ").concat(a.name);for(var n=0;n<a.ownerInfo.length;n++)a.ownerInfo[n].beenTouched=!1}i(e)}),[]);var o=[];o.push(r.a.createElement("div",null,r.a.createElement("h2",null,"Attendees' Information")));for(var m=[],u=function(e){var a=l[e],n=[];if(!a.ownerInfo)return"continue";for(var c=function(c){var o=a.ownerInfo[c];console.log("tickets[".concat(e,"].ownerInfo[").concat(c,"].").concat(o.label)),n.push(r.a.createElement(be.a.Item,Object.assign({},s,{label:o.label,style:{marginBottom:a.ownerInfo.length===c?0:10}}),t("tickets[".concat(e,"].ownerInfo[").concat(c,"].").concat(o.label),{initialValue:o.value,rules:[{required:o.required,message:"Please input the ".concat(o.label,"!")}]})(r.a.createElement(I.a,{size:"large",onChange:function(t){!function(e,t,a){var n=JSON.parse(JSON.stringify(l));n[e].ownerInfo[t].value=a.target.value,n[e].ownerInfo[t].beenTouched=!0;for(var r=!0,c=0;c<n[e].ownerInfo.length;c++)if(!n[e].ownerInfo[c].beenTouched){r=!1;break}if(!r)return i(n);n[e].extra=!0;for(var s=0;s<n[e].ownerInfo.length;s++){if(!n[e].ownerInfo[s].value){n[e].extra=!1;break}}i(n)}(e,c,t)}}))))},o=0;o<a.ownerInfo.length;o++)c(o);m.push(r.a.createElement(he.a.Panel,{header:a.header,key:e+1,extra:ke(a.extra)},n))},d=0;d<l.length;d++)u(d);return o.push(r.a.createElement("div",{className:"TicketsOwnersInformation__collapse"},r.a.createElement(he.a,{activeKey:a,onChange:function(e){c(e)}},m))),r.a.createElement("div",{className:"TicketsOwnersInformation"},o)};a(535);var we=be.a.create({name:"billingInformation"})((function(e){var t=e.openPanels,a=e.setOpenPanels,n=e.ticketsOwnersInfo,c=e.setTicketsOwnersInfo,i=e.buyerInfo,l=e.setBuyerInfo,s=e.stepsController;return r.a.createElement(be.a,{className:"Step2Form",onSubmit:function(t){t.preventDefault(),e.form.validateFieldsAndScroll((function(e,t){e||s(1)}))},id:"billingInformationForm"},r.a.createElement(_e,{form:e.form,buyerInfo:i,setBuyerInfo:l}),r.a.createElement(Ie,{form:e.form,openPanels:t,setOpenPanels:a,ticketsOwnersInfo:n,setTicketsOwnersInfo:c}))}));a(536);function Se(e){var t=e.orderDetails,a=(e.tickets,e.chiroInfo),c=t.receipt,i=c.lines;console.log("receipt",c);return r.a.createElement("div",{className:"orderDetails"},r.a.createElement("div",{className:"orderDetails__container"},r.a.createElement(me.a,{type:"check-circle",theme:"twoTone",twoToneColor:"#52c41a",className:"orderDetails__success"}),r.a.createElement("h1",{style:{fontWeight:400}},"We've received your order"),r.a.createElement("h2",{style:{fontSize:18,fontWeight:400}},"Order id: ",r.a.createElement("span",{style:{fontWeight:500}},"23456526372")),r.a.createElement(x.a,null),r.a.createElement("div",{style:{width:"100%",padding:"0 20px"}},r.a.createElement("h3",null,"Order Summary"),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:20}},r.a.createElement("table",{style:{width:"80%"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Ticket"),r.a.createElement("th",{className:"orderDetails__rightAlign"},"Price"),r.a.createElement("th",{className:"orderDetails__rightAlign"},"Amount"),r.a.createElement("th",{className:"orderDetails__rightAlign"},"Total"))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement(n.Fragment,null,e.amount>0&&r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",{className:"orderDetails__rightAlign"},"".concat(Number(e.price).toFixed(2),"$")),r.a.createElement("td",{className:"orderDetails__rightAlign"},e.amount),r.a.createElement("td",{className:"orderDetails__rightAlign"},"".concat(Number(e.amount*e.price).toFixed(2),"$"))))})),t.insurance&&r.a.createElement(n.Fragment,null,r.a.createElement("tr",{style:{height:10}}),r.a.createElement("tr",{style:{borderTop:"1px dashed black"}},r.a.createElement("td",{colSpan:"4"})),r.a.createElement("tr",{style:{height:10}}),r.a.createElement("tr",null,r.a.createElement("th",null,"Insurance"),r.a.createElement("td",{className:"paymentStep__rightAlign"},Number(t.insurancePrice).toFixed(2),"$"),r.a.createElement("td",{className:"paymentStep__rightAlign"},"1"),r.a.createElement("td",{className:"paymentStep__rightAlign"},Number(t.insurancePrice).toFixed(2),"$"))),r.a.createElement("tr",{style:{height:10}}),r.a.createElement("tr",null,r.a.createElement("th",{className:"orderDetails__rightAlign",colSpan:"4"},Number(c.amount).toFixed(2),"$")))))),r.a.createElement(x.a,null),r.a.createElement("div",{style:{width:"100%",padding:"0 20px"}},r.a.createElement("h3",null,"Payment Information"),r.a.createElement("div",{style:{display:"flex",width:"100%"}},r.a.createElement("div",{className:"orderDetails__detailBlock"},r.a.createElement("h4",null,"Credit card:"),r.a.createElement("p",null,"Card number: ",r.a.createElement("sup",null,"************"),"-",c.cardNumber),r.a.createElement("p",null,"Expiry date: ",c.expiryDate),r.a.createElement("p",null,"Amount: ",Number(c.amount).toFixed(2),"$")),r.a.createElement("div",{className:"orderDetails__detailBlock"},r.a.createElement("h4",null,"Billing Address:"),r.a.createElement("p",null,c.name),r.a.createElement("p",null,c.address),r.a.createElement("p",null,c.place),r.a.createElement("p",null,c.country)))),r.a.createElement("div",{className:"orderDetails__usInfo"},r.a.createElement("p",null,a.companyName),r.a.createElement("p",null,a.location),r.a.createElement("p",null,a.place),r.a.createElement("p",null,a.kennitala))),r.a.createElement("div",{className:"orderDetails__infoContainer"},r.a.createElement(ie,null)))}var Ne=a(118),xe=a(627),Te=(a(537),a(269)),je=a(270),Ce=a(279),De=a(271),Be=a(281),Pe=a(272),Le=a.n(Pe),Fe=null,Ae=function(e){function t(e){var a;return Object(Te.a)(this,t),(a=Object(Ce.a)(this,Object(De.a)(t).call(this,e))).state={showButtons:!1,loading:!0},window.React=r.a,window.ReactDOM=i.a,a}return Object(Be.a)(t,e),Object(je.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.isScriptLoaded,a=e.isScriptLoadSucceed;!this.state.showButtons&&!this.props.isScriptLoaded&&t&&a&&(Fe=window.paypal.Buttons.driver("react",{React:r.a,ReactDOM:i.a}),this.setState({loading:!1,showButtons:!0}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.showButtons,n=t.loading;return r.a.createElement("div",null,n&&r.a.createElement(R,null),a&&r.a.createElement(Fe,{createOrder:function(t,a){return e.props.createOrder(t,a)},onApprove:function(t,a){return e.props.onApprove(t,a)},onInit:function(t,a){return e.props.onInit(t,a)},onClick:function(t,a){return e.props.onClick(t,a)},onError:function(t){return e.props.onError(t)},onCancel:function(e){console.log(e)}}))}}]),t}(r.a.Component),ze=Le()("".concat("your_production_key"))(Ae),Re=(a(540),a(187));function Me(e){return Object(n.useEffect)((function(){return Object(Re.disableBodyScroll)(document.querySelector("#root")),function(){Object(Re.clearAllBodyScrollLocks)()}}),[]),r.a.createElement("div",{style:{overflow:"hidden",position:"fixed",top:0,left:0,zIndex:999,height:"100vh",width:"100vw",background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(R,null))}var Ve=be.a.create({name:"normal_login"})((function(e){e.form.getFieldDecorator;var t=e.buyTickets,a=e.insuranceSelected,c=(e.submitCardLoading,e.setInsuranceSelected),i=e.totalPrice,l=e.setPaypalProcessingLoading,o=e.paypalProcessingLoading,m=Object(n.useState)({value:"",triedToSubmit:!1}),u=Object(s.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)({value:"",triedToSubmit:!1}),E=Object(s.a)(f,2),g=E[0],h=E[1],v=Object(n.useState)(!1),b=Object(s.a)(v,2),y=b[0],O=b[1],_=Object(n.useState)(!1),k=Object(s.a)(_,2),I=k[0],S=k[1],N=Object(n.useState)(!1),x=Object(s.a)(N,2),T=x[0],j=x[1],C=Object(n.useState)(!1),D=Object(s.a)(C,2),B=D[0],P=D[1],L=Object(n.useState)(""),F=Object(s.a)(L,2),A=F[0],z=F[1];function R(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;n.preventDefault();var i=!1;0===g.value.length&&(i=!0,h({validateStatus:"error",errorMsg:"Insert expiration date",triedToSubmit:!0,value:g.value})),0===d.value.length&&(i=!0,p({validateStatus:"error",errorMsg:"Insert card number",triedToSubmit:!0,value:d.value})),e.form.validateFields((function(e,n){if(!e&&!i){if(console.log("Received values of form: ",n),!a&&!r)return void j(!0);t(n,c)}}))}function M(e,t){console.log("neinie"),e?(c(!0),j(!1),R(!0,e)):(j(!1),R(!0,e))}return r.a.createElement(n.Fragment,null,o&&r.a.createElement(Me,null),r.a.createElement(oe.a,{zIndex:1e6,title:"Insurance information",visible:y,onOk:function(){return O(!1)},onCancel:function(){return O(!1)},footer:[r.a.createElement(w.a,{onClick:function(){return O(!1)}},"Ok")],centered:!0},r.a.createElement("p",null,"Some information about insurance here")),r.a.createElement(oe.a,{zIndex:1e6,title:"Terms & conditions",visible:I,onOk:function(){return S(!1)},onCancel:function(){return S(!1)},centerd:!0,footer:[r.a.createElement(w.a,{onClick:function(){return S(!1)}},"Ok")]},r.a.createElement("p",null,"Some information about terms and conditions here")),r.a.createElement(oe.a,{zIndex:1e6,title:"Are you sure?",visible:T,footer:null,centered:!0},r.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",flexDirection:"column"}},r.a.createElement("h2",null,"Would you like insurance?"),r.a.createElement("p",{style:{marginBottom:20}},"Insurance costs 35$ and without it you are not elligable for a full refund"),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:30,flexWrap:"wrap"}},r.a.createElement(w.a,{style:{marginTop:5},onClick:function(e){return M(!1)}},"No, I don't want insurance"),r.a.createElement("div",{style:{width:20}}),r.a.createElement(w.a,{style:{marginTop:5},onClick:function(e){return M(!0)}},"Yes, I want insurance")))),r.a.createElement("div",{className:"paymentForm"},r.a.createElement("div",{style:{width:"100%",textAlign:"center",margin:"auto"}},r.a.createElement("div",{style:{width:"80%",margin:"auto"}},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",width:"100%"}},r.a.createElement(me.a,{type:"question-circle-o",style:{marginLeft:10,fontSize:16},onClick:function(){O((function(e){return!e}))}}),r.a.createElement(xe.a,{checked:a,onChange:function(){c((function(e){return!e}))},style:{display:"flex",flexDirection:"row-reverse",alignItems:"center",fontSize:16},size:"large"},"Insurance")),r.a.createElement(be.a,{labelAlign:"right"},r.a.createElement(be.a.Item,{validateStatus:""!==A?"error":"",help:r.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"flex-end"}},A)},r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(xe.a,{checked:B,onChange:function(){P((function(e){return!e})),z("")},id:"termscheckbox",style:{display:"flex",flexDirection:"row-reverse",alignItems:"center",fontSize:16}},"I have read the  ",r.a.createElement("a",{onClick:function(e){e.preventDefault(),S((function(e){return!e}))},style:{margin:0}},"terms and conditions"))))),r.a.createElement(ze,{onInit:function(e,t){B?t.enable():t.disable(),document.querySelector("#termscheckbox").addEventListener("change",(function(e){!function(e){e.target.checked?(t.enable(),console.log("enabled")):(t.disable(),console.log("disable"))}(e),console.log("init")}))},onApprove:function(e,a){return l(!0),a.order.capture().then((function(a){t({method:"paypal",orderId:e.orderID})}))},onClick:function(e,t){console.log(!document.querySelector("#termscheckbox").checked),B||z("Please accept the terms and conditions")},createOrder:function(e,t){return t.order.create({purchase_units:[{amount:{currency_code:"USD",value:i}}]})},onError:function(e){console.log(e)}})))),r.a.createElement("div",{style:{width:"100%",textAlign:"center"}})))}));a(541);function qe(e){var t=e.ticketTypes,a=e.totalTicketPrice,c=e.buyTickets,i=e.insuranceSelected,l=e.setInsuranceSelected,s=e.submitCardLoading,o=e.insurancePercentage,m=e.paypalProcessingLoading,u=e.setPaypalProcessingLoading,d=Number(o*a).toFixed(2),p=i?Number(a+Number(d)).toFixed(2):Number(a).toFixed(2);return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"paymentStep"},r.a.createElement("div",{className:"paymentStep__wrapper",style:{width:"70%"}},r.a.createElement("h3",null,"Order Summary"),r.a.createElement("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",marginTop:20}},r.a.createElement("table",{style:{borderCollapse:"collapse",width:"100%"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Ticket"),r.a.createElement("th",{className:"paymentStep__rightAlign"},"Price"),r.a.createElement("th",{className:"paymentStep__rightAlign"},"Amount"),r.a.createElement("th",{className:"paymentStep__rightAlign"},"Total"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(n.Fragment,null,e.amount>0&&r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",{className:"paymentStep__rightAlign"},"".concat(Number(e.price).toFixed(2),"$")),r.a.createElement("td",{className:"paymentStep__rightAlign"},e.amount),r.a.createElement("td",{className:"paymentStep__rightAlign"},"".concat(Number(e.amount*e.price).toFixed(2),"$"))))})),r.a.createElement("tr",{style:{height:10}}),r.a.createElement("tr",{style:{borderTop:"1px dashed black"}},r.a.createElement("td",{colSpan:"4"})),r.a.createElement("tr",{style:{height:10}}),r.a.createElement("tr",null,r.a.createElement("th",null,"Insurance"),r.a.createElement("td",{className:"paymentStep__rightAlign"},d,"$"),r.a.createElement("td",{className:"paymentStep__rightAlign"},i?"1":"0"),r.a.createElement("td",{className:"paymentStep__rightAlign"},i?d:"0.00","$")),r.a.createElement("tr",{style:{height:10}}),r.a.createElement("tr",null,r.a.createElement("th",{className:"orderDetails__rightAlign",colSpan:"4"},p,"$"))))),r.a.createElement("div",null,r.a.createElement(Ve,{setInsuranceSelected:l,insuranceSelected:i,buyTickets:c,submitCardLoading:s,totalPrice:p,paypalProcessingLoading:m,setPaypalProcessingLoading:u})))))}a(542);var Je="http://localhost:5000",Ue=[{title:"Tickets"},{title:"Billing Information"},{title:"Payment"},{title:"Receipt"}],We="../../../tempDefaultImg.jpg";var He=function(e){var t=e.setTime,a=e.setShowTimer,c=Object(n.useState)(!0),i=Object(s.a)(c,2),l=i[0],o=i[1],m=Object(n.useState)(!0),d=Object(s.a)(m,2),f=d[0],E=d[1],g=Object(n.useState)(!1),h=Object(s.a)(g,2),v=h[0],b=h[1],y=Object(n.useState)(!1),O=Object(s.a)(y,2),_=O[0],k=O[1],I=Object(n.useState)(0),S=Object(s.a)(I,2),N=S[0],x=S[1],T=Object(n.useState)(void 0),j=Object(s.a)(T,2),C=j[0],D=j[1],B=Object(n.useState)(0),P=Object(s.a)(B,2),L=P[0],F=P[1],A=Object(n.useState)(void 0),z=Object(s.a)(A,2),R=z[0],V=z[1],q=Object(n.useState)({}),J=Object(s.a)(q,2),U=J[0],W=J[1],H=Object(n.useState)([]),$=Object(s.a)(H,2),Y=$[0],K=$[1],G=Object(n.useState)(0),Z=Object(s.a)(G,2),Q=Z[0],X=Z[1],ee=Object(n.useState)([1]),te=Object(s.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)({}),ce=Object(s.a)(re,2),ie=ce[0],se=ce[1],ue=Object(n.useState)({}),fe=Object(s.a)(ue,2),ge=fe[0],he=fe[1],be=Object(n.useState)({}),ye=Object(s.a)(be,2),Oe=ye[0],_e=(ye[1],Object(n.useState)(!1)),ke=Object(s.a)(_e,2),Ie=ke[0],Ne=ke[1],xe=Object(n.useState)(null),Te=Object(s.a)(xe,2),je=Te[0],Ce=Te[1],De=Object(n.useState)(!1),Be=Object(s.a)(De,2),Pe=Be[0],Le=Be[1],Fe=Object(n.useState)([]),Ae=Object(s.a)(Fe,2),ze=Ae[0],Re=Ae[1],Me=Object(n.useRef)({});Object(n.useEffect)((function(){setTimeout((function(){if(!R)return t("");var e=new Date;if(new Date(R)-e<0)return V(void 0);var a=new Date(R)-e;F(a);var n="00:00";if(0!==a){var r=parseInt(a/6e4),c=parseInt(a%6e4/1e3);n=r<10?"0".concat(r,":"):r+":",n+=c<10?"0".concat(c):c}t(n)}),1e3)}),[L,R]),Object(n.useEffect)((function(){window.scrollTo(0,0);var t=null;return function(){var a,n,r,c;u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return a=e.match.params.eventId,i.next=3,u.a.awrap(p.a.get(Je+"/api/tickets/info/".concat(a)));case 3:if(n=i.sent,r=n.data,c=r.event,r.success){i.next=8;break}return i.abrupt("return",Ye(r.messages));case 8:c.ticketTypes.sort((function(e,t){return e.id>t.id?1:e.id<t.id?-1:0})),W(c.eventInfo),D(r.buyerId),K(c.ticketTypes),Ce(r.insurancePercentage),Me.current.socket=de.a.connect(Je,{query:{buyerId:r.buyerId,eventId:a}}),Me.current.socket.on("connect",(function(){console.log("COONNNEST!")})),Me.current.socket.on("timerDone",(function(){$e()})),Me.current.socket.on("paymentProcessed",(function(e){return Ve(e)})),o(!1),E(!1),t=Me.current.socket;case 20:case"end":return i.stop()}}))}(),function(){t&&t.disconnect(!0)}}),[e.match.params.eventId]);var Ve=function(e){console.log("PAYMENT PROCESSED EMIT"),e.success?(console.log("EMITDATA, ",e),o(!1),b(!1),Le(!1),he(e.orderDetails),x((function(e){return e+1}))):console.log("handle this")},He=function(e){x(N+e),N+e>=3&&V(void 0)},$e=function(){oe.a.error({title:"You took too long",content:"The tickets you reserved have been unreserved so you have to start over again if you want to buy a ticket",onOk:function(){x(0)},centered:!0,zIndex:1e6})};function Ye(e,t){e&&0!==e.length&&e.forEach((function(e){le.a.error({message:e.title||t||"Error!",description:e.message,placement:"bottomLeft"})}))}a(!!R&&3!==N);var Ke="";1===N?Ke=r.a.createElement("div",{className:"TicketsPage__buttonDiv"},r.a.createElement(w.a,{htmlType:"submit",form:"billingInformationForm",className:"TicketsPage__button",onClick:function(){for(var e=JSON.parse(JSON.stringify(ze)),t=[],a=0;a<e.length;a++){e[a].extra=!0;for(var n=0;n<e[a].ownerInfo.length;n++)e[a].extra=!!e[a].ownerInfo[n].value;e[a].extra||t.push(a+1)}ne(t),Re(e)}},"Buy tickets",r.a.createElement(me.a,{type:"arrow-right"}))):0===N&&(Ke=r.a.createElement("div",{className:"TicketsPage__buttonDiv"},r.a.createElement(w.a,{loading:l||f,onClick:function(){return function(){var e,t,a,n,r,c,i,l,s,o,m;return u.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return E(!0),e={url:Je+"/api/tickets/reserveTickets",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:{buyerId:C,eventId:U.id,ticketTypes:Y,socketId:Me.current.socket.id}},d.next=4,u.a.awrap(p()(e));case 4:if(t=d.sent,a=t.data,n=a.reservedTickets,E(!1),a.success){d.next=10;break}return d.abrupt("return",Ye(a.messages,"Error reserving tickets"));case 10:Me.current.socket.emit("timer"),V(a.releaseTime),r=[],c=JSON.parse(JSON.stringify(ze)),i=0;case 15:if(!(i<n.length)){d.next=32;break}l=n[i],s=JSON.parse(JSON.stringify(l.ownerInfo)),o=0;case 19:if(!(o<c.length)){d.next=28;break}if((m=c[o]).ticketTypeId!==l.ticketTypeId||m.used){d.next=25;break}return m.used=!0,s=m.ownerInfo,d.abrupt("break",28);case 25:o++,d.next=19;break;case 28:r.push({id:l.id,ticketTypeId:l.ticketTypeId,name:l.name,price:l.price,extra:"empty",ownerInfo:s});case 29:i++,d.next=15;break;case 32:Re(r),He(1);case 34:case"end":return d.stop()}}))}()},className:"TicketsPage__button",style:{marginRight:f||l?10:0}},"Find tickets",r.a.createElement(me.a,{type:"arrow-right"}))));var Ge,Ze=r.a.createElement("div",null);return 1===N?Ze=r.a.createElement("div",{className:"TicketsPage__buttonDiv"},r.a.createElement(w.a,{onClick:function(){var e,t,a;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("RELEASE ME!"),b(!0),e={url:Je+"/api/tickets/releaseTickets",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:{buyerId:C,eventId:U.id,tickets:ze,socketId:Me.current.socket.id}},n.next=5,u.a.awrap(p()(e));case 5:if(t=n.sent,(a=t.data).success){n.next=9;break}return n.abrupt("return",Ye(a.messages,"Error!"));case 9:V(void 0),He(-1),F(0),b(!1);case 13:case"end":return n.stop()}}))},className:"TicketsPage__button",loading:v,style:{}},r.a.createElement("span",{style:{marginRight:5}},r.a.createElement(me.a,{type:"arrow-left"})),"Back")):2===N&&(Ze=r.a.createElement("div",{className:"TicketsPage__buttonDiv"},r.a.createElement(w.a,{loading:_,onClick:function(){return He(-1)},className:"TicketsPage__button"},r.a.createElement("span",{style:{marginRight:5}},r.a.createElement(me.a,{type:"arrow-left"})),"Back"))),0===N?Ge=r.a.createElement(ve,{ticketTypes:Y,organization:U.organization,location:"".concat(U.city,", ").concat(U.country),handleTicketChange:function(e,t){for(var a=JSON.parse(JSON.stringify(Y)),n=0;n<a.length;n++)if(a[n].id===e){if(t){a[n].amount++,X(Q+parseFloat(a[n].price));break}if(a[n].amount>0&&(a[n].amount--,X(Q-parseFloat(a[n].price)),ze.length>0)){ze.reverse();var r=ze.find((function(t){return t.id===e})),c=ze.indexOf(r);c>=0&&ze.splice(c,1),ze.reverse(),Re(ze);break}}K(a)},totalTicketPrice:Q}):1===N?(console.log("SHOWME!"),Ge=r.a.createElement("div",{className:"TicketsPage__billingInfo"},r.a.createElement(we,{openPanels:ae,setOpenPanels:ne,ticketsOwnersInfo:ze,setTicketsOwnersInfo:Re,buyerInfo:ie,setBuyerInfo:se,stepsController:He,current:N}))):2===N?Ge=r.a.createElement(qe,{ticketTypes:Y,totalTicketPrice:Q,buyTickets:function(e){var t,a,n;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return k(!0),console.log("BUYINGTICKETS!"),t={url:Je+"/api/tickets/buyTickets",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:{buyerId:C,eventId:U.id,tickets:ze,buyerInfo:ie,paymentOptions:e,insurance:e.insuranceVerified?e.insuranceVerified:Ie,ticketTypes:Y,socketId:Me.current.socket.id}},r.next=5,u.a.awrap(p()(t));case 5:a=r.sent,n=a.data,console.log("DATA:",n),n.success||(Ye(n.messages,"Error buying tickets"),Le(!1),o(!1),k(!1));case 9:case"end":return r.stop()}}))},insuranceSelected:Ie,setInsuranceSelected:Ne,submitCardLoading:_,insurancePercentage:je,paypalProcessingLoading:Pe,setPaypalProcessingLoading:Le}):3===N&&(Ge=r.a.createElement(Se,{orderDetails:ge,chiroInfo:Oe,tickets:Y}),Me.current.socket.disconnect(!0)),r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"TicketsPage"},r.a.createElement(pe,{imageUrl:We,title:U.name,subTitle:U.dateRange,loading:l}),r.a.createElement("div",{className:"TicketsPage__page"},r.a.createElement("div",{className:"TicketsPage__ticketsSteps"},r.a.createElement(Ee,{current:N,stepsInfo:Ue})),l?r.a.createElement(M.a,{active:!0}):r.a.createElement("div",null,Ge),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:30}},Ze,Ke))))},$e=a(142),Ye=a(612),Ke=a(280),Ge=a(622),Ze=a(614),Qe=a(625),Xe=a(17),et=a.n(Xe),tt=k.a.RangePicker,at=_.a.Option;var nt=be.a.create({name:"normal_login"})((function(e){var t=function(e,t,a){le.a[e]({message:t,description:a})},a=e.form,c=a.getFieldDecorator,i=a.validateFields,l=Object(n.useState)(!0),o=Object(s.a)(l,2),m=o[0],d=o[1],f=Object(n.useState)({}),E=Object(s.a)(f,2),g=E[0],h=E[1],v=Object(n.useState)([]),b=Object(s.a)(v,2),y=b[0],k=b[1],S=Object(n.useState)([]),N=Object(s.a)(S,2),x=N[0],T=N[1],j=Object(n.useState)([]),C=Object(s.a)(j,2),D=C[0],B=C[1],P=Object(n.useState)([]),L=Object(s.a)(P,2),F=L[0],A=L[1],z=Object(n.useState)([]),R=Object(s.a)(z,2),M=(R[0],R[1],Object(n.useState)(null)),V=Object(s.a)(M,2),q=V[0],J=V[1],U=Object(n.useState)([]),W=Object(s.a)(U,2),H=W[0],$=W[1],Y=Object(n.useState)([{name:"",image:null}]),K=Object(s.a)(Y,2),G=K[0],Z=K[1],Q=Object(n.useState)([{name:"",amount:0,price:0,ownerInfo:[{required:!1,type:"",label:""}]}]),X=Object(s.a)(Q,2),ee=X[0],te=X[1];function ae(e,t,a){if(console.log(e),console.log(t),t){var n=t.target?t.target.value:t,r=JSON.parse(JSON.stringify(ee));r[e]=Object(Ne.a)({},r[e],Object($e.a)({},a,n)),te(r)}console.log("Her")}function ne(e,t,a){console.log(D),a?D[t].startTime=e:D[t].endTime=e,console.log(D),B(D)}console.log(G),Object(n.useEffect)((function(){!function(){var e;u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(p.a.get("".concat("http://localhost:5000","/api/insertValues")));case 2:e=t.sent,console.log(e),h(e.data),k(e.data.cities),d(!1);case 7:case"end":return t.stop()}}))}()}),[]),console.log(H);var re={name:"image",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",headers:{authorization:"authorization-text"},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(Ye.a.success("".concat(e.file.name," file uploaded successfully")),console.log(e.file),J(e.file)):"error"===e.file.status&&Ye.a.error("".concat(e.file.name," file upload failed."))}};function ce(){Z((function(e){return[].concat(Object(O.a)(e),[{name:"",image:null}])}))}console.log("newSpaekers",G);for(var ie=[],se=function(e){ie.push(r.a.createElement("div",null,r.a.createElement("h4",{style:{fontSize:"15px"}},D[e].date),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement(be.a.Item,{label:"StartOfDay"},c("schedule[".concat(e,"].startTime"),{rules:[{required:!0,message:"Insert schedule for this day"}]})(r.a.createElement(Ke.a,{use12Hours:!0,format:"h:mm a",onChange:function(t,a){return ne(t,e,!0)}}))),r.a.createElement(be.a.Item,{label:"EndOfDay"},c("schedule[".concat(e,"].endTime"),{rules:[{required:!0,message:"Insert schedule for this day"}]})(r.a.createElement(Ke.a,{use12Hours:!0,format:"h:mm a",onChange:function(t,a){return ne(t,e,!1)}}))))))},oe=0;oe<D.length;oe++)se(oe);return m?null:r.a.createElement(be.a,{onSubmit:function(e){e.preventDefault(),i((function(e,a){if(console.log(a),!e){var n=new FormData;n.append("images",q.originFileObj);for(var r=0;r<G.length;r++)console.log(r),console.log(G[r].image),""!==G[r].name&&n.append("images",G[r].image.originFileObj);!function(){var e,r,c,i,l,s;u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,u.a.awrap(p.a.post("".concat("http://localhost:5000","/api/eventImage"),n,{headers:{"Content-type":"multipart/form-data"}}));case 2:for(e=o.sent,console.log(e),console.log(e.data),r=e.data.data[0].url,c=parseInt(H[0])?{id:parseInt(H[0])}:{name:H[0]},console.log(a.speakers),i=a.speakers.map((function(e){return{id:parseInt(e)}})),l=0;l<G.length;l++)""!==G[l].name&&i.push({name:G[l].name,image:e.data.data[l+1].url});return console.log(i),o.next=13,u.a.awrap(p.a.post("".concat("http://localhost:5000","/api/events"),{data:{name:a.name,organization:c,startDate:x[0],endDate:x[1],startSellingTime:F[0],finishSellingTime:F[1],shortDescription:a.shortDescription,longDescription:a.longDescription,cityId:parseInt(a.city),longitude:a.longitude,latitude:a.latitude,category:parseInt(a.category),CECredits:a.CECredits,tags:a.tags.map((function(e){return parseInt(e)})),tickets:ee,image:r,speakers:i,schedule:D}}));case 13:s=o.sent,console.log(s),s.data.success&&t("success","Success","Successfully inserted event");case 16:case"end":return o.stop()}}))}()}}))},style:{width:"50%",margin:"auto",marginTop:50}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(be.a.Item,{style:{width:"50%"}},c("name",{rules:[{required:!0,message:"Insert event name"}]})(r.a.createElement(I.a,{placeholder:"Name"}))),r.a.createElement("div",{style:{width:10}}),r.a.createElement(be.a.Item,{style:{width:"50%"}},r.a.createElement(_.a,{mode:"tags",placeholder:"Organization",onChange:function(e){e.length>1?$([e[1]]):$(e)},value:H},g.organizations.map((function(e){return r.a.createElement(at,{key:e.id,value:"".concat(e.id)},e.name)}))))),r.a.createElement(be.a.Item,{label:"Date of event"},r.a.createElement(tt,{onChange:function(e,t){return function(e,t){var a=[];if(2===e.length)for(var n=e[1].diff(e[0],"days"),r=0;r<n+1;r++){var c=et()(e[0]);a.push({date:c.add(r,"d").format("YYYY-MM-DD"),startTime:"",endTime:""})}B(a),T(t)}(e,t)},onFocus:function(e){return e.preventDefault()},onBlur:function(e){return e.preventDefault()}})),ie,r.a.createElement(be.a.Item,{label:"Selling time of event"},r.a.createElement(tt,{showTime:{format:"HH"},format:"YYYY-MM-DD HH",placeholder:["Start Time","End Time"],onChange:function(e,t){A(e)}})),r.a.createElement(be.a.Item,null,c("shortDescription",{rules:[{required:!0,message:"Insert event name"}]})(r.a.createElement(I.a.TextArea,{autoSize:{minRows:3,maxRows:10},placeholder:"Short description"}))),r.a.createElement(be.a.Item,null,c("longDescription",{rules:[{required:!0,message:"Insert event name"}]})(r.a.createElement(I.a.TextArea,{autoSize:{minRows:5,maxRows:10},placeholder:"Long description"}))),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(be.a.Item,{style:{width:"100%"}},c("country",{rules:[{required:!0,message:"Insert event name"}]})(r.a.createElement(_.a,{showSearch:!0,placeholder:"Country",onChange:function(e){var t=g.cities.filter((function(t){return t.id===parseInt(e)}));k(t)},filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},g.countries.map((function(e){return r.a.createElement(at,{value:"".concat(e.id),key:e.id},e.name)}))))),r.a.createElement("div",{style:{width:10}}),r.a.createElement(be.a.Item,{style:{width:"100%"}},c("city",{rules:[{required:!0,message:"Insert event name"}]})(r.a.createElement(_.a,{placeholder:"City",showSearch:!0,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},y.map((function(e){return r.a.createElement(at,{value:"".concat(e.id),key:e.id},e.name)})))))),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(be.a.Item,{style:{width:"100%"}},c("longitude",{rules:[{required:!0,message:"Insert event name"}]})(r.a.createElement(I.a,{placeholder:"Longitude"}))),r.a.createElement("div",{style:{width:10}}),r.a.createElement(be.a.Item,{style:{width:"100%"}},c("latitude",{rules:[{required:!0,message:"Insert event name"}]})(r.a.createElement(I.a,{placeholder:"Latitude"})))),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(be.a.Item,{style:{width:"100%"}},c("category",{rules:[{required:!0,message:"Insert event name"}]})(r.a.createElement(_.a,{placeholder:"Category"},g.categories.map((function(e){return r.a.createElement(at,{key:e.id,value:"".concat(e.id)},e.name)}))))),r.a.createElement(be.a.Item,{style:{width:"100%"}},c("CECredits",{rules:[{required:!0,message:"Insert event name"}]})(r.a.createElement(Ge.a,{placeholder:"CE Credits",style:{width:"100%"}}))),r.a.createElement(be.a.Item,{style:{width:"100%"}},c("tags",{rules:[{required:!0,message:"Insert event name"}]})(r.a.createElement(_.a,{mode:"multiple",placeholder:"Tags"},g.tags.map((function(e){return r.a.createElement(at,{key:e.id,value:"".concat(e.id)},e.name)}))))),r.a.createElement(be.a.Item,{style:{width:"100%"}},c("speakers",{rules:[{required:!0,message:"Insert event name"}]})(r.a.createElement(_.a,{mode:"multiple",placeholder:"Speakers"},g.speakers.map((function(e){return r.a.createElement(at,{key:e.id,value:"".concat(e.id)},e.name)}))))),r.a.createElement(be.a.Item,null,r.a.createElement(Ze.a,re,r.a.createElement(w.a,null,r.a.createElement(me.a,{type:"upload"})," Click to Upload")))),r.a.createElement("h4",null,"New Speakers"),r.a.createElement("div",null,G.map((function(e,t){return r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(I.a,{onChange:function(e){return function(e,t){Z((function(a){return a[t].name=e,a}))}(e.target.value,t)},placeholder:"Name",style:{width:"100%"}}),r.a.createElement(Ze.a,function(e){return{name:"speaker",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",headers:{authorization:"authorization-text"},onChange:function(t){"uploading"!==t.file.status&&console.log(t.file,t.fileList),"done"===t.file.status?(Ye.a.success("".concat(t.file.name," file uploaded successfully")),console.log(t.file),console.log("temp",G),Z((function(a){return a[e].image=t.file,a}))):"error"===t.file.status&&Ye.a.error("".concat(t.file.name," file upload failed."))}}}(t),r.a.createElement(w.a,null,r.a.createElement(me.a,{type:"upload"})," Click to Upload")))})),1===G.length?r.a.createElement(w.a,{onClick:ce},r.a.createElement(me.a,{type:"plus"})):r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(w.a,{onClick:function(){Z((function(e){return e.pop(),Object(O.a)(e)}))}},r.a.createElement(me.a,{type:"minus"})),r.a.createElement(w.a,{onClick:ce},r.a.createElement(me.a,{type:"plus"}))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},G.map((function(e,t){return r.a.createElement("div",{style:{display:"flex"}},e.image&&r.a.createElement(n.Fragment,null,r.a.createElement("b",null,"Name: "),r.a.createElement("p",null,e.name," "),r.a.createElement("b",null,"Image: "),r.a.createElement("p",null,e.image.name)))})))),r.a.createElement("h4",null,"Tickets"),ee.map((function(e,t){return r.a.createElement(be.a.Item,{lable:"Ticket: ".concat(t),style:{marginBottom:5}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(I.a,{style:{width:"50%"},placeholder:"Name",value:e.name,onChange:function(e){return ae(t,e,"name")}}),r.a.createElement(Ge.a,{placeholder:"Price",onChange:function(e){return ae(t,e,"price")}}),r.a.createElement(Ge.a,{placeholder:"Amount",onChange:function(e){return ae(t,e,"amount")}})),r.a.createElement("div",{styl:{display:"felx",flexDirection:"column"}},e.ownerInfo.map((function(e,a){return r.a.createElement("div",{style:{marginLeft:50,display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement(I.a,{placeholder:"Label",style:{width:150},onChange:function(e){return function(e,t,a){var n=JSON.parse(JSON.stringify(ee));n[e].ownerInfo[t].label=a.target.value,te(n)}(t,a,e)}}),r.a.createElement(xe.a,{style:{marginLeft:10},onChange:function(e){return function(e,t,a){var n=JSON.parse(JSON.stringify(ee));n[e].ownerInfo[t].required=a.target.checked,te(n)}(t,a,e)}},"Required"),r.a.createElement(Qe.a.Group,{style:{marginLeft:10},onChange:function(e){return function(e,t,a){var n=JSON.parse(JSON.stringify(ee));n[e].ownerInfo[t].type=1===a.target.value?"input":"checkbox",te(n)}(t,a,e)}},r.a.createElement(Qe.a,{value:1},"Input"),r.a.createElement(Qe.a,{value:2},"Checkbox")))})),r.a.createElement("div",{style:{marginLeft:50}},r.a.createElement(w.a,{onClick:function(){return function(e){var t=JSON.parse(JSON.stringify(ee));t[e].ownerInfo.push({required:!1,type:"",label:""}),te(t)}(t)},style:{marginRight:5}},r.a.createElement(me.a,{type:"plus"})),ee[t].ownerInfo.length>1&&r.a.createElement(w.a,{onClick:function(){return function(e){var t=JSON.parse(JSON.stringify(ee));t[e].ownerInfo.pop(),te(t)}(t)}},r.a.createElement(me.a,{type:"minus"})))))})),r.a.createElement(be.a.Item,null,r.a.createElement("div",{style:{display:"flex",marginTop:20}},r.a.createElement(w.a,{onClick:function(){console.log("asdf");var e=JSON.parse(JSON.stringify(ee));e.push({name:"",amount:0,price:0,ownerInfo:[{required:!1,type:"",label:""}]}),te(e)},style:{marginRight:5}},r.a.createElement(me.a,{type:"plus"})),ee.length>1&&r.a.createElement(w.a,{onClick:function(){var e=JSON.parse(JSON.stringify(ee));e.pop(),te(e)}},r.a.createElement(me.a,{type:"minus"})))),r.a.createElement(be.a.Item,null,r.a.createElement(w.a,{type:"primary",htmlType:"submit"},"Submit")))}));function rt(e){var t=Object(n.useState)({}),a=Object(s.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)({}),o=Object(s.a)(l,2),m=o[0],d=o[1],f=Object(n.useState)(!0),E=Object(s.a)(f,2),g=E[0],h=E[1],v=e.match;return Object(n.useEffect)((function(){!function(){var e;u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.awrap(p.a.get("".concat("http://localhost:5000","/api/orders/").concat(v.params.orderId)));case 2:if(e=t.sent,console.log(e),e.data.success){t.next=8;break}return le.a.error({message:"Something went wrong",description:e.data.message,placement:"bottomLeft"}),console.log("her"),t.abrupt("return");case 8:console.log(e.data),i(e.data.orderDetails),d(e.data.chiroInfo[0]),h(!1);case 12:case"end":return t.stop()}}))}()}),[]),console.log(m),g?r.a.createElement("div",{style:{height:"80vh"}},r.a.createElement(R,null)):r.a.createElement(n.Fragment,null,r.a.createElement("div",{style:{marginTop:30}},r.a.createElement(Se,{orderDetails:c,chiroInfo:m,tickets:c.lines})))}a(596);var ct=Object(o.f)((function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"notFound"},r.a.createElement("div",{className:"notFound__content"},r.a.createElement("div",{className:"notFound__wrapper"},r.a.createElement("div",{className:"notFound__container"},r.a.createElement("h1",{className:"notFound__404"},"404"),r.a.createElement("div",{className:"notFound__text"},"Page Not Found")),r.a.createElement("div",{className:"notFound__buttonContainer"},r.a.createElement(w.a,{className:"notFound__buttton",onClick:function(){return e.history.push("/")}},"Home"))))))})),it=a(615);a(597);var lt=be.a.create({name:"loginForm"})(Object(o.f)((function(e){var t=e.form.getFieldDecorator,a={labelCol:{sm:{span:5,offset:1}},wrapperCol:{sm:{span:15}}},n=function(t,a){var n,r,i;return u.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n={url:"".concat("http://localhost:5000","/api/login"),method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:{password:a,email:t}},l.next=3,u.a.awrap(p()(n));case 3:if(r=l.sent,(i=r.data).success&&i.accessToken){l.next=9;break}return l.abrupt("return",c(i.messages,"Login error!"));case 9:window.localStorage.setItem("access_token",i.accessToken),e.history.push("/insert");case 11:case"end":return l.stop()}}))};function c(e,t){e&&0!==e.length&&e.forEach((function(e){le.a.error({message:e.title||t||"Error!",description:e.message,placement:"bottomLeft"})}))}return r.a.createElement("div",{className:"LoginForm"},r.a.createElement(it.a,{title:"Login",className:"LoginForm__card"},r.a.createElement(be.a,{onSubmit:function(t){console.log("HERE!"),t.preventDefault(),e.form.validateFieldsAndScroll((function(e,t){e||(n(t.email,t.password),console.log(t))}))},id:"loginForm"},r.a.createElement(be.a.Item,Object.assign({},a,{style:{marginBottom:5},label:"E-mail"}),t("email",{rules:[{type:"email",message:"The input is not a valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(I.a,null))),r.a.createElement(be.a.Item,Object.assign({},a,{label:"Password"}),t("password",{rules:[{required:!0,message:"Please input your password!"}]})(r.a.createElement(I.a.Password,{prefix:r.a.createElement(me.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}})}))),r.a.createElement("div",{className:"LoginForm__submitButtonDiv"},r.a.createElement(w.a,{htmlType:"submit",className:"LoginForm__submitButton"},"Submit")))))})));a(598);var st=be.a.create({name:"createUserForm"})(Object(o.f)((function(e){var t=e.form.getFieldDecorator,a={labelCol:{sm:{span:5,offset:1}},wrapperCol:{sm:{span:15}}},n=function(e,t,a,n){var r,l,s;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return console.log("POST!"),o.t0="".concat("http://localhost:5000","/api/createUser"),o.t1={Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},o.t2=t,o.t3=e,o.t4=n,o.t5=a,o.next=9,u.a.awrap(E());case 9:if(o.t6=o.sent,o.t6){o.next=12;break}o.t6="matur";case 12:return o.t7=o.t6,o.t8={password:o.t2,email:o.t3,name:o.t4,confirmPassword:o.t5,accessToken:o.t7},r={url:o.t0,method:"POST",headers:o.t1,data:o.t8},o.next=17,u.a.awrap(p()(r));case 17:if(l=o.sent,s=l.data,console.log(s),s.success){o.next=24;break}return o.abrupt("return",i(s.messages,"Create User error!"));case 24:c("success","Success","Successfully created the user");case 25:case"end":return o.stop()}}))},c=function(e,t,a){le.a[e]({message:t,description:a})};function i(e,t){e&&0!==e.length&&e.forEach((function(e){le.a.error({message:e.title||t||"Error!",description:e.message,placement:"bottomLeft"})}))}return r.a.createElement("div",{className:"CreateUserForm"},r.a.createElement(it.a,{title:"Create User",className:"CreateUserForm__card"},r.a.createElement(be.a,{onSubmit:function(t){console.log("HERE!"),t.preventDefault(),e.form.validateFieldsAndScroll((function(e,t){e||(console.log(t),n(t.email,t.password,t.confirmPassword,t.name))}))},id:"CreateUserForm"},r.a.createElement(be.a.Item,Object.assign({},a,{style:{marginBottom:5},label:"E-mail"}),t("email",{rules:[{type:"email",message:"The input is not a valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(I.a,null))),r.a.createElement(be.a.Item,Object.assign({},a,{style:{marginBottom:5},label:"Name"}),t("name",{rules:[{required:!0,message:"Please input the user's name!"}]})(r.a.createElement(I.a,null))),r.a.createElement(be.a.Item,Object.assign({},a,{label:"Password"}),t("password",{rules:[{required:!0,message:"Please input your password!"}]})(r.a.createElement(I.a.Password,{prefix:r.a.createElement(me.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}})}))),r.a.createElement(be.a.Item,Object.assign({},a,{label:"Confirm password"}),t("confirmPassword",{rules:[{required:!0,message:"Please confirm the password!"}]})(r.a.createElement(I.a.Password,{prefix:r.a.createElement(me.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}})}))),r.a.createElement("div",{className:"CreateUserForm__submitButtonDiv"},r.a.createElement(w.a,{htmlType:"submit",className:"CreateUserForm__submitButton"},"Submit")))))}))),ot=(a(599),a(276)),mt=a.n(ot);var ut=Object(o.f)((function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],i=a[1];function l(e,t,a,n){var r,l,s,m,d;return u.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return r={url:"http://localhost:5000/api/changeEventState",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:{eventId:e,isSelling:t,isVisible:a,isSoldOut:n}},f.next=3,u.a.awrap(p()(r));case 3:if(l=f.sent,s=l.data,console.log("DATA:",s),s.success&&s.event){f.next=8;break}return f.abrupt("return",o(s.messages));case 8:m=JSON.parse(JSON.stringify(c)),d=0;case 10:if(!(d<c.length)){f.next=17;break}if(c[d].eventInfo.id!==s.event.id){f.next=14;break}return m[d].eventInfo=s.event,f.abrupt("break",17);case 14:d++,f.next=10;break;case 17:i(m);case 18:case"end":return f.stop()}}))}function o(e,t){e&&0!==e.length&&e.forEach((function(e){le.a.error({message:e.title||t||"Error!",description:e.message,placement:"bottomLeft"})}))}console.log("BOYO"),Object(n.useEffect)((function(){!function(){var e,t;u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(p()("http://localhost:5000/api/eventsInfo"));case 2:if(e=a.sent,(t=e.data).success){a.next=6;break}return a.abrupt("return",o(t.messages));case 6:i(t.events),console.log("DATA:",JSON.stringify(t));case 8:case"end":return a.stop()}}))}()}),[]);for(var m=[],d=function(e){var t=c[e].eventInfo,a=c[e].ticketTypes,n=[];n.push(r.a.createElement(ge.a.Item,{style:{margin:0,padding:0}},r.a.createElement(S.a,{className:"TicketsList__listRow",gutter:0},r.a.createElement(N.a,{span:1}),r.a.createElement(N.a,{span:4},r.a.createElement("h3",{className:"TicketsList__ticketInfoTitle"},"Type")),r.a.createElement(N.a,{span:2}),r.a.createElement(N.a,{span:3},r.a.createElement("h3",{className:"TicketsList__ticketInfoTitle rightAlign"},"Price")),r.a.createElement(N.a,{span:1}),r.a.createElement(N.a,{span:3},r.a.createElement("h3",{className:"TicketsList__ticketInfoTitle rightAlign"},"Amount")),r.a.createElement(N.a,{span:1}),r.a.createElement(N.a,{span:3},r.a.createElement("h3",{className:"TicketsList__ticketInfoTitle rightAlign"},"Reserved")),r.a.createElement(N.a,{span:1}),r.a.createElement(N.a,{span:2},r.a.createElement("h3",{className:"TicketsList__ticketInfoTitle rightAlign"},"Sold")),r.a.createElement(N.a,{span:1}),r.a.createElement(N.a,{span:2}))));for(var s=function(e){var t=a[e];n.push(r.a.createElement(ge.a.Item,null,r.a.createElement(S.a,{align:"center",style:{alignItems:"center",display:"flex"},className:"TicketsList__listRow"},r.a.createElement(N.a,{span:1}),r.a.createElement(N.a,{span:4,className:"TicketsList__ticketTypeInfo"}," ",t.name," "),r.a.createElement(N.a,{span:2}),r.a.createElement(N.a,{span:3,className:"TicketsList__ticketTypeInfo rightAlign"}," ",parseFloat(t.price).toFixed(2)," $"),r.a.createElement(N.a,{span:1}),r.a.createElement(N.a,{span:3,className:"TicketsList__ticketTypeInfo rightAlign"}," ",t.amount," "),r.a.createElement(N.a,{span:1}),r.a.createElement(N.a,{span:3,className:"TicketsList__ticketTypeInfo rightAlign"}," ",t.reserved," "),r.a.createElement(N.a,{span:1}),r.a.createElement(N.a,{span:2,className:"TicketsList__ticketTypeInfo rightAlign"}," ",t.sold),r.a.createElement(N.a,{span:1}),r.a.createElement(N.a,{span:2},r.a.createElement(w.a,{style:t.disabled?{backgroundColor:"green"}:{backgroundColor:"red"},onClick:function(){!function(e){var t,a,n,r,l,s,m;u.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return t={url:"http://localhost:5000/api/changeTicketState",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:{ticketTypeId:e}},d.next=3,u.a.awrap(p()(t));case 3:if(a=d.sent,(n=a.data).success&&n.ticket){d.next=7;break}return d.abrupt("return",o(n.messages));case 7:r=JSON.parse(JSON.stringify(c)),l=0;case 9:if(!(l<c.length)){d.next=23;break}s=c[l],m=0;case 12:if(!(m<s.ticketTypes.length)){d.next=20;break}if(s.ticketTypes[m].id!==e){d.next=17;break}return r[l].ticketTypes[m]=n.ticket,d.abrupt("break",23);case 17:m++,d.next=12;break;case 20:l++,d.next=9;break;case 23:i(r);case 24:case"end":return d.stop()}}))}(t.id)}},t.disabled?"Enable":"Disable")))))},d=0;d<a.length;d++)s(d);m.push(r.a.createElement(he.a.Panel,{header:t.name,key:e+1},r.a.createElement(ge.a,null,n),r.a.createElement(S.a,{align:"center"},r.a.createElement(N.a,{span:6},r.a.createElement(w.a,{onClick:function(){return function(e){var t;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(p()({url:"http://localhost:5000/api/downloadTickets/"+e,method:"get",responseType:"blob",headers:{Accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}));case 2:t=a.sent,mt.a.saveAs(t.data,"data.xlsx");case 4:case"end":return a.stop()}}))}(t.id)}},"Download")),r.a.createElement(N.a,{span:6},r.a.createElement(w.a,{onClick:function(){return l(t.id,!t.adminIsSelling,t.isVisible,t.isSoldOut)},style:t.adminIsSelling?{backgroundColor:"red"}:{backgroundColor:"green"}},"isSelling=",t.adminIsSelling?"TRUE":"FALSE")),r.a.createElement(N.a,{span:6},r.a.createElement(w.a,{onClick:function(){return l(t.id,t.adminIsSelling,!t.isVisible,t.isSoldOut)},style:t.isVisible?{backgroundColor:"red"}:{backgroundColor:"green"}},"isVisible=",t.isVisible?"TRUE":"FALSE")),r.a.createElement(N.a,{span:6},r.a.createElement(w.a,{onClick:function(){return l(t.id,t.adminIsSelling,t.isVisible,!t.isSoldOut)},style:t.isSoldOut?{backgroundColor:"green"}:{backgroundColor:"red"}},"isSoldOut=",t.isSoldOut?"TRUE":"FALSE")))))},f=0;f<c.length;f++)d(f);return r.a.createElement("div",{className:"EventsInfoPage"},r.a.createElement(he.a,{className:"EventsInfoPage__collapse",defaultActiveKey:1},m))}));var dt=Object(o.f)((function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),l=Object(s.a)(i,2),m=l[0],u=l[1],d=Object(n.useState)(!1),p=Object(s.a)(d,2),f=p[0],E=p[1];return Object(n.useEffect)((function(){window.BAPIjs.setPublicToken("myToken")}),[]),r.a.createElement(n.Fragment,null,r.a.createElement(V,{organization:a,ticketTime:m,showTimer:f}),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",exact:!0,component:J}),r.a.createElement(o.a,{path:"/event",exact:!0,component:se}),r.a.createElement(o.a,{path:"/tickets",exact:!0,component:He}),r.a.createElement(o.a,{path:"/createUser",exact:!0,component:st}),r.a.createElement(v,{path:"/insert",exact:!0,component:nt}),r.a.createElement(v,{path:"/eventsInfo",component:ut}),r.a.createElement(o.a,{path:"/event/:eventId",exact:!0,render:function(e){return r.a.createElement(se,Object.assign({},e,{setOrganization:c}))}}),r.a.createElement(o.a,{path:"/tickets/:eventId",exact:!0,render:function(e){return r.a.createElement(He,Object.assign({},e,{setTime:u,setShowTimer:E}))}}),r.a.createElement(o.a,{path:"/orders/:orderId",exact:!0,component:rt}),r.a.createElement(o.a,{path:"/login",exact:!0,component:lt}),r.a.createElement(o.a,{exact:!0,component:ct})))}));i.a.render(r.a.createElement(l.a,null,r.a.createElement(dt,null)),document.getElementById("root"))}},[[283,1,2]]]);
//# sourceMappingURL=main.68746f22.chunk.js.map